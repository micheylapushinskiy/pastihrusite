{"mappings":"I,E,E,E,E,E,E,E,E,E,E,E,E,E,C,E,E,C,E,O,E,C,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,G,iB,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,E,Q,C,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,SCqIA,GAjIO,CAAA,WAAM,SAAA,I,I,E,I,CAAA,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAA,IAAA,CAAA,GAEX,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAA,IAAA,CAAA,YAAA,KAAA,GACA,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAA,IAAA,CAAA,iBAAA,KAAA,GACA,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAA,IAAA,CAAA,aAAA,KAAA,GACA,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAA,IAAA,CAAA,aAAA,KAAA,GACA,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAA,IAAA,CAAA,QAAA,KAAA,GAEA,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAA,IAAA,CAAA,SAAS,EAAE,EACX,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAA,IAAA,CAAA,YAAY,EAAE,EAEd,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAA,IAAA,CAAA,eAAe,CACb,QAAS,EACT,OAAQ,CACV,GAGE,IAAI,CAAC,SAAS,CAAG,SAAS,aAAa,CAAC,kBAExC,IAAI,CAAC,cAAc,CAAG,SAAS,aAAa,CAAC,mBAC7C,IAAI,CAAC,UAAU,CAAG,SAAS,aAAa,CAAC,uBACzC,IAAI,CAAC,UAAU,CAAG,SAAS,aAAa,CAAC,yBACzC,IAAI,CAAC,KAAK,CAAG,G,C,AAAI,G,AAAA,E,U,C,AAAA,E,O,CAAA,C,EAAM,IAAI,CAAC,cAAc,EAE1C,IAAI,CAAC,SAAS,CAAG,IAA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","sources":["<anon>","js/Gallery.js"],"sourcesContent":["(function () {\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire94c2\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire94c2\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\n\nvar $9FexJ = parcelRequire(\"9FexJ\");\n\nvar $6UUn1 = parcelRequire(\"6UUn1\");\n\nvar $edSnU = parcelRequire(\"edSnU\");\n\nvar $bAx9P = parcelRequire(\"bAx9P\");\n\nvar $lJtih = parcelRequire(\"lJtih\");\n\nvar $6m8fO = parcelRequire(\"6m8fO\");\n\nvar $1SsJg = parcelRequire(\"1SsJg\");\n\nvar $hoJL5 = parcelRequire(\"hoJL5\");\nvar $2c43ef83cb1da157$export$ace63239d21d36e = /*#__PURE__*/ function() {\n    \"use strict\";\n    function Gallery() {\n        var _this = this;\n        (0, $9FexJ._)(this, Gallery);\n        (0, $edSnU._)(this, \"container\", void 0);\n        (0, $edSnU._)(this, \"modalContainer\", void 0);\n        (0, $edSnU._)(this, \"modalImage\", void 0);\n        (0, $edSnU._)(this, \"modalTitle\", void 0);\n        (0, $edSnU._)(this, \"modal\", void 0);\n        (0, $edSnU._)(this, \"images\", []);\n        (0, $edSnU._)(this, \"portraits\", []);\n        (0, $edSnU._)(this, \"COLUMN_COUNT\", {\n            DESKTOP: 4,\n            MOBILE: 2\n        });\n        this.container = document.querySelector('.Gallery__list');\n        this.modalContainer = document.querySelector('.Gallery__popup');\n        this.modalImage = document.querySelector('.Gallery__popup-img');\n        this.modalTitle = document.querySelector('.Gallery__popup-title');\n        this.modal = new (0, (/*@__PURE__*/$parcel$interopDefault($6m8fO)))(this.modalContainer);\n        this.portraits = this.normalizePortraits((0, $hoJL5.GALLERY_PORTRAITS));\n        window.addEventListener('keyup', function(e) {\n            return _this.onKeyNavigation(e);\n        });\n        this.render().then(function() {\n            _this.setCssVariables();\n            _this.attachPortraitEvents();\n            _this.hideLastUnevenImages();\n        });\n    }\n    (0, $6UUn1._)(Gallery, [\n        {\n            key: \"normalizePortraits\",\n            value: function normalizePortraits(portraitsRaw) {\n                return portraitsRaw.map(function(portrait) {\n                    return (0, $bAx9P._)({\n                        uuid: (0, $1SsJg.default)()\n                    }, portrait);\n                });\n            }\n        },\n        {\n            key: \"onKeyNavigation\",\n            value: function onKeyNavigation(e) {\n                var _this = this;\n                var currentlyOpenPortrait = this.modal._isShown && this.getPortraitByUuid(this.modalContainer.dataset.uuid);\n                var currentIndex = this.portraits.findIndex(function(portrait) {\n                    return portrait.uuid === currentlyOpenPortrait.uuid;\n                });\n                var getNextVerticalIndex = function(delta) {\n                    return currentIndex + _this.COLUMN_COUNT.DESKTOP * delta;\n                };\n                var getNextHorizontalIndex = function(delta) {\n                    return currentIndex + delta;\n                };\n                var getNextIndex = {\n                    ArrowDown: function() {\n                        return getNextVerticalIndex(1);\n                    },\n                    ArrowUp: function() {\n                        return getNextVerticalIndex(-1);\n                    },\n                    ArrowLeft: function() {\n                        return getNextHorizontalIndex(-1);\n                    },\n                    ArrowRight: function() {\n                        return getNextHorizontalIndex(1);\n                    }\n                };\n                if (currentlyOpenPortrait && getNextIndex[e.key]) {\n                    var nextIndex = getNextIndex[e.key]();\n                    if (nextIndex >= this.portraits.length) nextIndex = 0;\n                    else if (nextIndex < 0) nextIndex = this.portraits.length - 1;\n                    this.setModalPortrait(this.portraits[nextIndex]);\n                }\n            }\n        },\n        {\n            key: \"getPortraitByUuid\",\n            value: function getPortraitByUuid(uuid) {\n                return this.portraits.find(function(portrait) {\n                    return portrait.uuid === uuid;\n                });\n            }\n        },\n        {\n            key: \"render\",\n            value: function render() {\n                var _this = this;\n                return new Promise(function(resolve) {\n                    _this.container.innerHTML = _this.portraits.map(function(portrait) {\n                        return `<img src=\"${portrait.url}\" data-uuid=\"${portrait.uuid}\">`;\n                    }).join('\\n');\n                    requestAnimationFrame(function() {\n                        _this.images = (0, $lJtih._)(_this.container.querySelectorAll('img'));\n                        resolve(_this.images);\n                    });\n                });\n            }\n        },\n        {\n            key: \"attachPortraitEvents\",\n            value: function attachPortraitEvents() {\n                var _this = this;\n                this.images.forEach(function(img) {\n                    var portrait = _this.getPortraitByUuid(img.dataset.uuid);\n                    img.addEventListener('load', function() {\n                        return img.classList.add('loaded');\n                    });\n                    img.addEventListener('click', function() {\n                        return _this.onPortraitClick(portrait);\n                    });\n                });\n            }\n        },\n        {\n            key: \"setCssVariables\",\n            value: function setCssVariables() {\n                this.container.style.setProperty('--Gallery--img-ratio', (0, $hoJL5.PORTRAIT_HEIGHT) / (0, $hoJL5.PORTRAIT_WIDTH));\n                this.container.style.setProperty('--Gallery--columns-desktop', this.COLUMN_COUNT.DESKTOP);\n                this.container.style.setProperty('--Gallery--columns-mobile', this.COLUMN_COUNT.MOBILE);\n                this.container.style.setProperty('--Gallery--rows-desktop', Math.floor(this.portraits.length / this.COLUMN_COUNT.DESKTOP));\n                this.container.style.setProperty('--Gallery--rows-mobile', Math.floor(this.portraits.length / this.COLUMN_COUNT.MOBILE));\n            }\n        },\n        {\n            key: \"hideLastUnevenImages\",\n            value: function hideLastUnevenImages() {\n                var displayedCountDesktop = this.images.length - this.images.length % this.COLUMN_COUNT.DESKTOP;\n                var displayedCountMobile = this.images.length - this.images.length % this.COLUMN_COUNT.MOBILE;\n                this.images.slice(displayedCountDesktop).forEach(function(img) {\n                    return img.classList.add('ta-hide-desktop');\n                });\n                this.images.slice(displayedCountMobile).forEach(function(img) {\n                    return img.classList.add('ta-hide-mobile');\n                });\n            }\n        },\n        {\n            key: \"onPortraitClick\",\n            value: function onPortraitClick(portrait) {\n                this.setModalPortrait(portrait);\n                this.modal.show();\n            }\n        },\n        {\n            key: \"setModalPortrait\",\n            value: function setModalPortrait(portrait) {\n                var uuid = portrait.uuid, url = portrait.url, title = portrait.title;\n                this.modalContainer.dataset.uuid = uuid;\n                this.modalImage.src = url;\n                this.modalTitle.textContent = title;\n            }\n        }\n    ]);\n    return Gallery;\n}();\nnew $2c43ef83cb1da157$export$ace63239d21d36e();\n\n})();\n//# sourceMappingURL=gallery-ru.00f9a93c.js.map\n","import Modal from 'bootstrap/js/dist/modal';\nimport { v4 as uuidv4 } from 'uuid';\nimport { GALLERY_PORTRAITS, PORTRAIT_WIDTH, PORTRAIT_HEIGHT } from './Config';\n\nexport class Gallery {\n\n  container;\n  modalContainer;\n  modalImage;\n  modalTitle;\n  modal;\n\n  images = [];\n  portraits = [];\n\n  COLUMN_COUNT = {\n    DESKTOP: 4,\n    MOBILE: 2,\n  };\n\n  constructor(){\n    this.container = document.querySelector('.Gallery__list');\n\n    this.modalContainer = document.querySelector('.Gallery__popup');\n    this.modalImage = document.querySelector('.Gallery__popup-img');\n    this.modalTitle = document.querySelector('.Gallery__popup-title');\n    this.modal = new Modal(this.modalContainer);\n\n    this.portraits = this.normalizePortraits(GALLERY_PORTRAITS);\n\n    window.addEventListener('keyup', (e) => this.onKeyNavigation(e));\n\n    this.render().then(() => {\n      this.setCssVariables();\n      this.attachPortraitEvents();\n      this.hideLastUnevenImages();\n    });\n  }\n\n  normalizePortraits(portraitsRaw){\n    return portraitsRaw.map(portrait => {\n      return {\n        uuid: uuidv4(),\n        ...portrait,\n      };\n    });\n  }\n\n  onKeyNavigation(e){\n    const currentlyOpenPortrait = this.modal._isShown && this.getPortraitByUuid(this.modalContainer.dataset.uuid);\n    const currentIndex = this.portraits.findIndex(portrait => portrait.uuid === currentlyOpenPortrait.uuid);\n\n    const getNextVerticalIndex = (delta) => {\n      return currentIndex + (this.COLUMN_COUNT.DESKTOP * delta);\n    };\n    const getNextHorizontalIndex = (delta) => {\n      return currentIndex + delta;\n    };\n    const getNextIndex = {\n      ArrowDown: () => getNextVerticalIndex(1),\n      ArrowUp: () => getNextVerticalIndex(-1),\n      ArrowLeft: () => getNextHorizontalIndex(-1),\n      ArrowRight: () => getNextHorizontalIndex(1),\n    };\n\n    if (currentlyOpenPortrait && getNextIndex[e.key]) {\n      let nextIndex = getNextIndex[e.key]();\n\n      if (nextIndex >= this.portraits.length) {\n        nextIndex = 0;\n      }\n      else if (nextIndex < 0) {\n        nextIndex = this.portraits.length - 1;\n      }\n      this.setModalPortrait(this.portraits[nextIndex]);\n    }\n  }\n\n  getPortraitByUuid(uuid){\n    return this.portraits.find(portrait => portrait.uuid === uuid);\n  }\n\n  render(){\n    return new Promise(resolve => {\n      this.container.innerHTML = this.portraits\n        .map(portrait => `<img src=\"${portrait.url}\" data-uuid=\"${portrait.uuid}\">`)\n        .join('\\n');\n\n      requestAnimationFrame(() => {\n        this.images = [...this.container.querySelectorAll('img')];\n        resolve(this.images);\n      });\n    });\n  }\n\n  attachPortraitEvents(){\n    this.images.forEach(img => {\n      const portrait = this.getPortraitByUuid(img.dataset.uuid);\n      img.addEventListener('load', () => img.classList.add('loaded'));\n      img.addEventListener('click', () => this.onPortraitClick(portrait));\n    });\n  }\n\n  setCssVariables(){\n    this.container.style.setProperty('--Gallery--img-ratio', PORTRAIT_HEIGHT / PORTRAIT_WIDTH);\n    this.container.style.setProperty('--Gallery--columns-desktop', this.COLUMN_COUNT.DESKTOP);\n    this.container.style.setProperty('--Gallery--columns-mobile', this.COLUMN_COUNT.MOBILE);\n\n    this.container.style.setProperty('--Gallery--rows-desktop', Math.floor(this.portraits.length / this.COLUMN_COUNT.DESKTOP));\n    this.container.style.setProperty('--Gallery--rows-mobile', Math.floor(this.portraits.length / this.COLUMN_COUNT.MOBILE));\n  }\n\n  hideLastUnevenImages(){\n    const displayedCountDesktop = this.images.length - (this.images.length % this.COLUMN_COUNT.DESKTOP);\n    const displayedCountMobile = this.images.length - (this.images.length % this.COLUMN_COUNT.MOBILE);\n\n    this.images.slice(displayedCountDesktop).forEach(img => img.classList.add('ta-hide-desktop'));\n    this.images.slice(displayedCountMobile).forEach(img => img.classList.add('ta-hide-mobile'));\n  }\n\n  onPortraitClick(portrait){\n    this.setModalPortrait(portrait);\n    this.modal.show();\n  }\n\n  setModalPortrait(portrait){\n    const { uuid, url, title } = portrait;\n    this.modalContainer.dataset.uuid = uuid;\n    this.modalImage.src = url;\n    this.modalTitle.textContent = title;\n  }\n}\n\nnew Gallery();\n"],"names":["$parcel$global","$parcel$modules","$parcel$inits","parcelRequire","$9FexJ","$6UUn1","$edSnU","$bAx9P","$lJtih","$6m8fO","$1SsJg","$hoJL5","globalThis","self","window","global","id","exports","init","module","call","err","Error","code","register","Gallery","_this","_","DESKTOP","MOBILE","container","document","querySelector","modalContainer","modalImage","modalTitle","modal","a","__esModule","default","portraits","normalizePortraits","GALLERY_PORTRAITS","addEventListener","e","onKeyNavigation","render","then","setCssVariables","attachPortraitEvents","hideLastUnevenImages","key","value","portraitsRaw","map","portrait","uuid","currentlyOpenPortrait","_isShown","getPortraitByUuid","dataset","currentIndex","findIndex","getNextVerticalIndex","delta","COLUMN_COUNT","getNextHorizontalIndex","getNextIndex","ArrowDown","ArrowUp","ArrowLeft","ArrowRight","nextIndex","length","setModalPortrait","find","Promise","resolve","innerHTML","url","join","requestAnimationFrame","images","querySelectorAll","forEach","img","classList","add","onPortraitClick","style","setProperty","PORTRAIT_HEIGHT","PORTRAIT_WIDTH","Math","floor","displayedCountDesktop","displayedCountMobile","slice","show","title","src","textContent"],"version":3,"file":"gallery-ru.00f9a93c.js.map"}